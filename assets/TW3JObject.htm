<html><head><title></title><meta name="viewport" content="width=device-width, initial-scale=1"><style> #idnav a,a,body,table,th,tr{text-decoration:none}body,html{margin:0;padding:0;background:#fff}#idheader{width:100%;height:auto;padding:0;margin:0;position:fixed;top:0;z-index:2}#idheader table{background:#2C5D88;min-height:59px}#idheader h1{color:#FFF}#idnav{text-align:right;width:158px;vertical-align:middle}#idnav span{display:inline-block;width:24px;height:24px;margin-left:4px;background:url(css/img/hm_webhelp_buttons_grey.png) top left no-repeat}#idnav a span{background-image:url(css/img/hm_webhelp_buttons_white.png)}#idnav a span:hover{background-image:url(css/img/hm_webhelp_buttons_orange.png)}#idnav span.hmbtnprev{background-position:0 -32px}#idnav span.hmbtnnext{background-position:-24px -32px}#idnav span.hmbtntop{background-position:-48px -32px}.language-css{background-color:#cd6a51;content:attr(rel);color:#fff;position:absolute;width:100%;background:rgba(0,73,138,.67);font-family:'PT Serif',serif;padding:5px 0;text-indent:15px;font-size:17px;line-height:1.45;font-weight:700}a,a:visited{color:#00F}.p_Heading1,p{text-align:left;text-indent:0;padding:0;margin:0}#checkoutbutton{background-color:#2C5D88;-moz-border-radius:15px;-webkit-border-radius:15px;color:#FFF;border:5px solid #e18728;padding:2px;margin:0 0 0 25px}#checkoutbutton:hover{opacity:.6}body,table,th,tr{font-size:100%;font-family:'Segoe UI',Tahoma,Verdana,Arial,sans-serif;font-style:normal;font-weight:400;color:#000}table,th,tr{font-size:100%}span.f_Heading1{font-size:1.58rem;font-weight:700}.p_Heading1{font-size:100%;font-weight:400;page-break-after:avoid}h1,h2{//  padding-bottom:5px;//  padding:5px}h1{font-family:Exo,sans-serif;//  padding-top:2px;border-bottom:1px #f1f1f1;font-size:2em;color:#66ab16}h2{font-family:"Helvetica Neue",Helvetica,Arial,"Lucida Grande",sans-serif;letter-spacing:-1px;line-height:22px; #f1f1f1;font-size:22px;font-weight:700;color:#314e64;margin:30px 0 15px}p{display:block;-webkit-margin-before:1em;-webkit-margin-after:1em;-webkit-margin-start:0;-webkit-margin-end:0;//  padding:10px}a:hover{color:#E4641C;text-decoration:underline}@media screen{.topichead{padding:5px}}table{border-collapse:collapse;margin:0 .2em;color:#00498A}table td,table th{padding:.7em 0 0;border-top:0;border-left:0;border-right:0;// #aaa;//border-bottom-style:ridge}@media print{#content,body,pre{background:#fff;color:#000}#content,a{padding:0!important}body{margin:0;padding:0}ul{list-style-type:square}#content{border:none!important;margin:0!important;direction:ltr}dt,h1,h2{font-weight:700}p{margin:1em 0;line-height:1.2em;widows:3;orphans:3}pre{border:1pt dashed #000;white-space:pre;font-size:8pt;overflow:auto;padding:1em 0}a{background:0 0!important}a:link,a:visited{color:#520;background:0 0;text-decoration:underline}a,a.new{color:inherit!important;text-decoration:inherit!important}img{border:none;vertical-align:middle;page-break-inside:avoid}h2{page-break-after:avoid}}@media screen{.mw-content-ltr{direction:ltr}.visualClear{clear:both}.mw-content-ltr ul{margin:.3em 0 0 1.6em;padding:0}.mw-content-ltr dd{margin-left:1.6em;margin-right:0}.printfooter{display:none}.smart_mobile_studio-note-green,.smart_mobile_studio-note-yellow{padding:1em;border:1px dashed #aaa;width:100%;max-width:100%!important}dt,li{margin-bottom:.1em}dd,p,ul{line-height:1.5em}.smart_mobile_studio-note-yellow{background-color:#ffc!important}.smart_mobile_studio-note-green{background-color:#dcffcd!important}.smart_mobile_studio-table{border-collapse:collapse}.smart_mobile_studio-table tr:nth-child(odd){background-color:#f9f9f9}.smart_mobile_studio-table tr:nth-child(even){background-color:#ededed}.smart_mobile_studio-table th{color:#fff;background-color:#555;border:1px solid #555;padding:3px;vertical-align:middle;text-align:left;text-transform:uppercase}a,h1,h2{background:0 0}.smart_mobile_studio-table td{border:1px solid #d4d4d4;padding:7px 5px;vertical-align:middle}a{text-decoration:none;color:#3296c8}a:focus,a:hover{color:#32c864;text-decoration:underline}a:active{color:#43d072}a:visited{color:#2db45a}a.new{color:#c8324b}a.new:visited{color:#d0435b}h1,h2,pre{color:#000}img{border:none;vertical-align:middle}h1,h2{font-weight:400;margin:0 0 .6em;overflow:hidden;//padding-top:.5em;//padding-bottom:.17em; #aaa}h1{font-size:188%}h2{font-size:150%}p{margin:.4em 0 .5em}p img{margin:0}ul{list-style-type:square;margin:.3em 0 0 1.6em;padding:0}dt{font-weight:700}dl{margin-top:.2em;margin-bottom:.5em}dd{margin-left:1.6em;margin-bottom:.1em}pre{font-family:monospace,Courier;padding:1em;border:1px solid #ddd;background-color:#f9f9f9}table{font-size:100%}#firstHeading,.firstHeading{margin-bottom:.1em;line-height:1.2em;padding-bottom:0}#siteSub{display:none}}.mw-ui-button:focus::-moz-focus-inner,.mw-ui-button:hover::-moz-focus-inner{border-color:transparent}.mw-ui-button.mw-ui-primary:focus::-moz-focus-inner,.mw-ui-button.mw-ui-primary:hover::-moz-focus-inner,.mw-ui-button.mw-ui-progressive:focus::-moz-focus-inner,.mw-ui-button.mw-ui-progressive:hover::-moz-focus-inner{border-color:transparent}.mw-ui-button.mw-ui-constructive:focus::-moz-focus-inner,.mw-ui-button.mw-ui-constructive:hover::-moz-focus-inner{border-color:transparent}.mw-ui-button.mw-ui-destructive:focus::-moz-focus-inner,.mw-ui-button.mw-ui-destructive:hover::-moz-focus-inner{border-color:transparent}@media screen{html{font-size:1em}body,html{height:100%;margin:0;padding:0;font-family:sans-serif}body{background-color:#f6f6f6}div#content{//margin-left:10em;//padding:1em;border:1px solid #a7d7f9;border-right-width:0;margin-top:-1px;background-color:#fff;color:#252525;direction:ltr}div#content p{line-height:inherit;//margin:.5em 0}div#content #firstHeading,div#content h1,div#content h2{font-family:sans-serif;line-height:1.3;margin-bottom:.25em;padding:0}div#content #firstHeading,div#content h1{font-size:1.8em;padding-top: 20px;}div#content h2{font-size:1.5em;margin-top:1em}ul{list-style-type:disc;list-style-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAANAQMAAABb8jbLAAAABlBMVEX///8AUow5QSOjAAAAAXRSTlMAQObYZgAAABNJREFUCB1jYEABBQw/wLCAgQEAGpIDyT0IVcsAAAAASUVORK5CYII=)}pre{line-height:1.3em}#bodyContent{position:relative;width:100%;line-height:1.6;font-size:.875em}div#simpleSearch #searchInput:-ms-input-placeholder{color:#999}div#simpleSearch #searchInput:-moz-placeholder{color:#999}x:-moz-any-link{margin-left:23px;min-width:0}}@media screen and (min-width:982px){div#content{//  margin-left:11em;padding:1.25em 1.5em 1.5em}}</style></head>
  <body>
<div id="idheader"><div id="idheaderbg"><table style="width:100%;border:none;margin:0px;" cellspacing="0" cellpadding="0">   <tbody><tr>    <td class="topichead" style="text-align:left;">      <h1 class="p_Heading1" style="page-break-after: avoid;"><span class="f_Heading1">JObject</span></h1>    </td>                <td class="topichead" id="idnav">                    <a href="index.htm" title="Return to HomePage"><span class="hmbtntop"></span></a>                </td>    </tr>  </tbody></table></div>

</div>
    <br />
    <br />
    <!---TObject-->
    <div id="content" class="mw-body">
      <a id="top"></a>
      <div id="mw-js-message" style="display: none;"></div>
      <h1 id="firstHeading" class="firstHeading" lang="en">
        <span dir="auto">JObject</span>
      </h1>
      <div id="bodyContent">
        <div id="siteSub"></div>
        <div id="mw-content-text" class="mw-content-ltr" dir="ltr" lang="en">
          <dl>
            <dt>Hierarchy</dt>
            <dd>The base class type that is ancestor to all other classes</dd>
          </dl>
          <h2>Description</h2>
          <p>In traditional object pascal all classes must inherit from TObject right? No matter what you do you just could not
          escape that fact. Unless you used records, defined functions as fields and mapped the entry points manually. Which we
          sometimes have to do when talking to old-school C libraries or esoteric kernel code, but that&#39;s another matter.
          TObject is the mother of all classes, thats the general rule (or was).
          <br />
          <br />In Smart Mobile Studio you can use the whole inheritance system inside the compiler and get rid of TObject as the
          ultimate ancestor and instead use a 
          <b>JObject</b> as ancestor class.</p>
          <br />
          <h2>Interesting</h2>
          <p>JavaScript does not support true OOP in the ordinary sense of the word, which makes it exceedingly difficult for
          classical web-designers to create reusable components or manage large scale projects.
          <br />Javascript programmers sometimes want to add new properties (or methods) to an existing object. Sometimes want to
          add new properties (or methods) to all existing objects of a given type or sometimes want to add new properties (or
          methods) to an 
          <b>object prototype</b>.
          <br />
          <br /></p>
          <p>Smart Mobile Studio delivers full OOP running under JavaScript and offer a way to programming using OOP prototype
          approach-like. The compiler technology generates a real-life VMT (virtual method table) in JavaScript, which means that
          you can write objects and inherit from them just like you do in Delphi.</p>
          <br />
          <p>
          <em>
            <strong>Object</strong>
          </em> is thus the new root class, above 
          <em>TObject</em>. Eventually, it&#39;ll be the ancestor for every other type.</p>
          <h4>JObject</h4>
          <p>The earliest need for migrating to a rooted type system was to unify 
          <em>TObject</em> and the new 
          <em>JObject,</em> which is is the new root class for all &quot;prototypal inheritence&quot; JavaScript classes in
          SmartMS(while 
          <em>TObject</em> remains the root for classical Pascal classes).</p>
          <p>Subclasses of 
          <em>JObject</em> are either purely external classes (implemented on the JS side, in the DOM, etc.) or Pascal classes
          compiled to JavaScript, but that follow the JavaScript &quot;object&quot; conventions rather than the Pascal conventions,
          ie.</p>
          <ul>
            <li>methods are resolved through 
            <em>prototype</em> (they can be resolved either statically or via a VMT for 
            <em>TObject</em>)</li>
            <li>field and method names are not obfuscated</li>
            <li>no smart-linking or de-virtualization can occur</li>
            <li>they are globally scoped in JS</li>
            <li>marking methods as &quot;virtual&quot; is an error (they are dynamic, which is a bit like being implicitly
            &quot;virtual&quot; and &quot;overridden&quot;)</li>
            <li>visibility isn&#39;t supported (on the JS-side)</li>
            <li>ClassType, ClassName, etc. don&#39;t exist</li>
          </ul>
          <p>These classes are intended primarily for consumption by &quot;external&quot; JavaScript libraries.</p>
          <p>They&#39;ll look and behave like &quot;pure&quot; JavaScript classes, so will share their downsides (no obfuscation,
          no whole-program optimizations, no elimination of unused methods by the smart-linker, etc.); Still, they retain some
          Smart Pascal advantages (strong typing, local optimizations, obfuscation of method implementations, case insensitivity on
          the Pascal side).</p>
          <span>Here is the quick and dirty example:</span>
          <br />
          <span>I&#39;m using consolidated unit syntax for compacity (but you could use classic interface/implementation as
          well).</span>
          <pre style="background-color: #dcffcd;">
type
  myLib = class(JObject)
  private
	HelloText : String = 'hello';
  published
	procedure sayHello(s : String);
	begin
	  ShowMessage(HelloText+' '+s);
	end;
  end;
  
{ main.pas }
var obj : myLib;
Begin
  obj := new myLib;
  obj.sayHello('JObject as Ancestor class'); 
</pre>
<br><strong>JS output:</strong>
          <pre style="background-color: #00ff0000;">
function $Extend(base, sub, props) {
	function F() {};
	F.prototype = base.prototype;
	sub.prototype = new F();
	sub.prototype.constructor = sub;
	for (var n in props) {
		if (props.hasOwnProperty(n)) {
			sub.prototype[n]=props[n];
		}
	}
}

function myLib() {
}
$Extend(Object,myLib,
   {
	  "HelloText" : "hello",
	  /// procedure myLib.sayHello(s: String)
	  ///  [line: 51, column: 15, file: uMain]
	  "sayHello" : function(s) {
		 alert(this.HelloText+" "+s);
	  }
   });

	  var obj = null;
	  obj = new myLib();
	  obj.sayHello("JObject as Ancestor class");
</pre>
        </div>
        <div class="printfooter"></div>
        <div class="visualClear"></div>
      </div>
    </div>
  </body>
</html>