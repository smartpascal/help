<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html oncontextmenu="return false">
<head>
   <title>Forms and navigation</title>
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="styles.css" rel="stylesheet" />

<script type="text/javascript" src="js/toc.js"></script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; filter:progid:DXImageTransform.Microsoft.DropShadow(color='b0b0b0', Direction=135, OffX='3', OffY='3') progid:DXImageTransform.Microsoft.Fade(Overlap=1.00);"></div>


<table width="100%" border="0" cellspacing="0" cellpadding="5" bgcolor="#C0C0C0">
  <tr valign="middle">
    <td align="left">
      <p class="p_Heading1"><span class="f_Heading1" style="font-family: 'Times New Roman'; font-weight: bold; color: #ffffff;">Forms and navigation</span></p>

    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="index.htm">Top</a>&nbsp;
     <a href="hm_types.htm">Previous</a>&nbsp;
     <a href="hm5_msg.htm">Next</a>
     </span>
    </td>
  </tr>
</table>


<!-- Placeholder for topic body. -->
<table width="100%" border="0" cellspacing="0" cellpadding="5"><tr valign="top"><td align="left">
<p style="margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #800000;">Forms - Forms and navigation</span></p>
<p style="margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">Under Smart, a form is a lot simpler than what we are used to under delphi. The class TW3CustomForm which all forms derive from inherits directly from TW3CustomControl and is basically nothing more than a visual control. It introduces only 3 new members which are:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 7px 48px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">Caption property</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 7px 48px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">FormActivated method</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 0px 0px 7px 48px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">FormDeactivated method</span></td></tr></table></div><p style="margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">The method </span><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">FormActivated</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">() is executed </span><span style="font-size: 16px; font-family: 'Times New Roman'; font-style: italic; color: #000000;">after</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> the form has come into view, and </span><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">FormDeactivated</span><span style="font-size: 16px; font-family: 'Times New Roman'; font-style: italic; color: #000000;">()</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> before the form move out of view.</span></p>
<p style="margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">When you create a visual application, Smart will create main unit and main form and prepare the code that initializes and displays the main form while the application is being started. This initialization happens in the method </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #0000ff;">TApplication.ApplicationStarting</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> in the main unit.</span></p>
<p class="p_CodeExample" style="border-color: #000000; border-style: solid; border-width: 1px; background: #ffff99;"><span class="f_CodeExample" style="font-weight: bold; color: #000000;">procedure</span><span class="f_CodeExample" style="color: #000000;">&nbsp;TApplication.</span><span class="f_CodeExample" style="font-weight: bold; color: #0000ff;">ApplicationStarting</span><span class="f_CodeExample" style="color: #000000;">;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #000000;">begin</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-style: italic; color: #000000;">//Add&nbsp;code&nbsp;above&nbsp;this&nbsp;line&nbsp;</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;FFormMain&nbsp;:=&nbsp;TFormMain.Create(Display.View);</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;FFormMain.Name&nbsp;:=&nbsp;'Main';</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;RegisterFormInstance(FFormMain,&nbsp;True);</span><br>
<span class="f_CodeExample" style="color: #000000;">&nbsp;&nbsp;</span><span class="f_CodeExample" style="font-weight: bold; color: #000000;">inherited</span><span class="f_CodeExample" style="color: #000000;">;</span><br>
<span class="f_CodeExample" style="font-weight: bold; color: #000000;">end</span><span class="f_CodeExample" style="color: #000000;">;</span></p>
<p style="text-align: justify; margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">This initialization code creates the form object, sets its name and registers the form object in the internal list.</span></p>
<p style="text-align: justify; margin: 16px 0px 4px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #800000;">Navigating Between Forms</span></p>
<p style="text-align: justify; margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">Even when created, secondary form is not automatically visible (this makes a lot of sense if you think about it). To display a different form, use </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000080;">Application.GotoForm</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> or </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000080;">Application.GotoFormByRef.</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> </span></p>
<p style="text-align: justify; margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">They are functionally the same except that the former accepts a form name and the latter a form object.</span></p>
<p class="p_CodeExample"><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">procedure</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000080;">GotoForm</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">(aName:&nbsp;</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">String</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">;&nbsp;Effect:&nbsp;TFormEntryEffect&nbsp;=&nbsp;feNone);</span><br>
<span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">procedure</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">&nbsp;</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000080;">GotoFormByRef</span><span class="f_CodeExample" style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">(aForm:&nbsp;TW3CustomForm;&nbsp;&nbsp;Effect:&nbsp;TFormEntryEffect&nbsp;=&nbsp;feNone);</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;</span></p>
<p style="text-align: justify; margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">Both take an optional parameter governing how the new form will be displayed. Following effects can be applied:</span></p>
<div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 1px 0px 1px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">feNone &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; : </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">No effect, new form just *pops up* over the old form.</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 1px 0px 1px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">feFromRight &nbsp;: </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">New form slides in from the right.</span></td></tr></table></div><div style="text-align: justify; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 1px 0px 1px 24px;"><table border="0" cellpadding="0" cellspacing="0" style="line-height: normal;"><tr style="vertical-align:baseline" valign="baseline"><td width="24"><span style="font-size: 16px; font-family: 'Symbol'; font-style: normal; color: #000000; text-decoration: none;">&#183;</span></td><td><span style="font-size: 16px; font-family: 'Times New Roman'; font-weight: bold; color: #000000;">feToLeft &nbsp; &nbsp; &nbsp; &nbsp; : </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">New form slides in from the left.</span></td></tr></table></div><p style="text-align: justify; margin: 7px 0px 7px 0px;"><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">To return to the primary form you have again to call </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000080;">GotoForm</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;"> or </span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000080;">GotoFormByRef</span><span style="font-size: 16px; font-family: 'Times New Roman'; color: #000000;">.</span></p>

</td></tr></table>

</body>
</html>
